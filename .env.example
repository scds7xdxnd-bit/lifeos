# LifeOS Environment Configuration Template
# Copy to .env and fill in your values
# NEVER commit .env to git

# ===== Application Environment =====
APP_ENV=production
DEBUG=false

# ===== Security - Generate with: openssl rand -base64 32 =====
SECRET_KEY=change-me-with-random-value
JWT_SECRET_KEY=change-me-with-random-jwt-key
SESSION_COOKIE_SECURE=true
JWT_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=Lax
JWT_COOKIE_SAMESITE=Lax
JWT_ACCESS_MINUTES=30
JWT_REFRESH_DAYS=14

# ===== Database Configuration =====
DATABASE_URL=postgresql://lifeos:change-me@db:5432/lifeos
TEST_DATABASE_URL=postgresql://lifeos:change-me@db:5432/lifeos_test
POSTGRES_USER=lifeos
POSTGRES_PASSWORD=change-me-with-strong-password
POSTGRES_DB=lifeos

# ===== Redis/Cache Configuration =====
REDIS_URL=redis://redis:6379/0

# ===== Machine Learning =====
MLSUGGESTER_MODEL_DIR=/app/flask_app
ENABLE_ML=true

# ===== Insights Engine =====
ENABLE_INSIGHTS=true
ENABLE_ASSISTANT=false

# ===== Rate Limiting =====
RATELIMIT_ENABLED=true
RATELIMIT_DEFAULT=200/hour
RATELIMIT_STORAGE_URL=redis://redis:6379/1

# ===== Gunicorn Web Server =====
GUNICORN_BIND=0.0.0.0:8000
GUNICORN_WORKERS=8
GUNICORN_THREADS=4
GUNICORN_TIMEOUT=60
GUNICORN_GRACEFUL_TIMEOUT=30
GUNICORN_MAX_REQUESTS=10000
GUNICORN_MAX_REQUESTS_JITTER=1000
GUNICORN_WORKER_CLASS=gthread
GUNICORN_LOGLEVEL=info
GUNICORN_LOGCONFIG=/app/deploy/logging.conf
GUNICORN_PRELOAD=true

# ===== Worker Configuration =====
WORKER_BATCH_SIZE=50
WORKER_POLL_INTERVAL=5
WORKER_MAX_ATTEMPTS=5
WORKER_BACKOFF_SECONDS=5
WORKER_BACKOFF_MULTIPLIER=2
WORKER_LOGLEVEL=INFO

# Outbox-specific (used by worker)
OUTBOX_BATCH_SIZE=50
OUTBOX_POLL_INTERVAL=5
OUTBOX_MAX_ATTEMPTS=5
OUTBOX_BACKOFF_SECONDS=5
OUTBOX_BACKOFF_MULTIPLIER=2

# ===== Monitoring & Metrics =====
STATSD_HOST=statsd-exporter
STATSD_PORT=8125
STATSD_PREFIX=lifeos
ENABLE_METRICS=true

# ===== Grafana Dashboard =====
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-me-with-strong-password
GRAFANA_PASSWORD=change-me-with-strong-password
GF_SECURITY_SECRET_KEY=change-me-with-random-value
GF_SERVER_ROOT_URL=https://lifeos.example.com:3000
GF_USERS_ALLOW_SIGN_UP=false

# ===== Prometheus =====
PROMETHEUS_RETENTION=15d

# ===== Alerting - Set these to enable alerts =====
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
PAGERDUTY_SERVICE_KEY=your-pagerduty-service-key
ALERT_EMAIL=ops@example.com

# ===== External Services =====
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=noreply@example.com
MAIL_PASSWORD=your-email-password

# ===== Performance Tuning =====
STATIC_CACHE_MAX_AGE=3600
CONNECTION_POOL_SIZE=20
CONNECTION_POOL_RECYCLE=3600

# ===== Deployment Automation =====
RUN_MIGRATIONS=true
APP_VERSION=latest
